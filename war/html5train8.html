<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8">
		<title>シンプルペイント</title>
		<style type="text/css">
			#myCanvas {
				position: absolute;
				top: 0px;
				left: 0px;
				width: 640px;
				height: 480px;
				background-color: black;
			}
		</style>
		<script type="text/javascript" >
			var drawFlag = false;
			var oldX = 0;
			var oldY = 0;
			window.addEventListener("load", function(){
				var can = document.getElementById("myCanvas");
				can.addEventListener("mousemove", draw, true);
				can.addEventListener("mousedown", function(e){
					drawFlag = true;
					oldX = e.clientX;
					oldY = e.clientY;
				}, false);
				can.addEventListener("mouseup", function(){
					drawFlag = false;
				}, false);
			}, true);

			function draw(e){
				if (!drawFlag) return;
				var x = e.clientX;
				var y = e.clientY;
				var can = document.getElementById("myCanvas");
				var context = can.getContext("2d");
				context.strokeStyle = "rgba(255,0,0,1)";
				context.lineWidth = 1;
				context.beginPath();
				context.moveTo(oldX, oldY);
				context.lineTo(x, y);
				context.stroke();
				context.closePath();
				oldX = x;
				oldY = y;
			}
		</script>
	</head>
	<body>
	<canvas id="myCanvas" width="640" height="480">
		HTML 5　Canvasに対応したブラウザを使用してください。
	</canvas>
</body>
</html>